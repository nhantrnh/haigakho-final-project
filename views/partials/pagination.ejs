<!-- views/partials/_pagination.ejs -->
<% if (pagination.totalPages > 1) { %>
<nav aria-label="Page navigation" id="pagination-container">
  <ul class="pagination custom-pagination justify-content-center">
    <!-- Previous -->
    <li class="page-item <%= !pagination.hasPrevPage ? 'disabled' : '' %>">
      <a
        class="page-link"
        href="?<%= new URLSearchParams({...currentQuery, page: pagination.prevPage}).toString() %>"
      >
        <i class="fas fa-chevron-left"></i>
      </a>
    </li>
    <!-- ... phần còn lại của pagination ... -->
    <!-- First Page -->
    <% if(pagination.page > 3) { %>
    <li class="page-item">
      <a
        class="page-link"
        href="?<%= new URLSearchParams({...currentQuery, page: 1}).toString() %>"
        >1</a
      >
    </li>
    <% if(pagination.page > 4) { %>
    <li class="page-item disabled"><span class="page-link">...</span></li>
    <% } %> <% } %>

    <!-- Page Numbers -->
    <% for(let i = Math.max(1, pagination.page - 2); i <=
    Math.min(pagination.totalPages, pagination.page + 2); i++) { %>
    <li class="page-item <%= i === pagination.page ? 'active' : '' %>">
      <a
        class="page-link"
        href="?<%= new URLSearchParams({...currentQuery, page: i}).toString() %>"
        ><%= i %></a
      >
    </li>
    <% } %>

    <!-- Last Page -->
    <% if(pagination.page < pagination.totalPages - 2) { %> <%
    if(pagination.page < pagination.totalPages - 3) { %>
    <li class="page-item disabled"><span class="page-link">...</span></li>
    <% } %>
    <li class="page-item">
      <a
        class="page-link"
        href="?<%= new URLSearchParams({...currentQuery, page: pagination.totalPages}).toString() %>"
      >
        <%= pagination.totalPages %>
      </a>
    </li>
    <% } %>

    <!-- Next -->
    <li class="page-item <%= !pagination.hasNextPage ? 'disabled' : '' %>">
      <a
        class="page-link"
        href="?<%= new URLSearchParams({...currentQuery, page: pagination.nextPage}).toString() %>"
      >
        <i class="fas fa-chevron-right"></i>
      </a>
    </li>
  </ul>
</nav>
<% } %>
